<!DOCTYPE html>
<html lang="es">
   <head>
      <title>Contacto</title>
      <meta name="Description" content="Formulario de contacto.">
      <link rel="stylesheet" href="styles.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"> </script>
   </head>
   <body>
      <nav class="navbar navbar-static-top navbar-inner" role="navigation">
         <div class="container">
            <div class="navbar-header">
               <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
               <span class="sr-only">Navegación</span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               </button>
               <h1><a class="navbar-brand" href="index.html">Mini Damas</a></h1>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
               <ul class="nav navbar-nav">
                  <li><a href="index.html" title="Damas online">Damas</a></li>
                  <li><a href="form.html" title="Contacto">Contacto</a></li>
                  <li><a href="https://es.wikipedia.org/wiki/Damas" title="Qué son las damas">¿Qué es?</a></li>
               </ul>
            </div>
         </div>
      </nav>
      <div class="container">
         <ul class="breadcrumb">
            <li><a href="index.html">Mini Damas</a></li>
            <li class="active">Contacto</li>
         </ul>
      </div>
      <div class="formContainer">
        <form class="form" id="myForm" enctype="multipart/form-data">
            <label for="inp_name">Nombre Completo</label>
            <input type="text" name="inp_name" id="inp_name" required>
            <label for="inp_mail">Correo eléctronico</label>
            <input type="text" name="inp_mail" id="inp_mail" required> 
            <label for="inp_comment">Comentario</label>
            <textarea name="inp_comment" id="inp_comment" placeholder="Ingresar texto"></textarea>
            <button type="submit" id='submit'>Enviar</label>

        </form>
      </div>
      <script>

         const myForm = document.getElementById("myForm")

         myForm.addEventListener('submit', function(e){
            e.preventDefault()

            const formData = new FormData(myForm)

            fetch('formulario.php', {
               method: 'post',
               body: formData
            }).then(function(response){
                  return response.text()
            }).then(function (text){
                  alert("Su consulta ha sido enviada con exito")
                  console.log(text)
                  limpiarFormulario()
            }).catch(function(error){
                  console.error(error)
                  alert("No ha sido posible procesar su consulta intente de nuevo")
            })
         })

         function limpiarFormulario() {
            document.getElementById("myForm").reset();
         }
            
      </script>
      <footer class="footer">
         <div class="container">
            <div class="row">
               <div class="col-md-7">
                  <p><strong>Jonathan Martino</strong> - Juega a las damas online - <a href="mailto:jonamartino@gmail.com">Contacto</a></p>
               </div>
            </div>
         </div>
      </footer>
   </body>
</html>